<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>{{ site.title }}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  {% if site.tagline %}
  <meta name="description" content="{{ site.tagline }}">
  {% endif %}
<<<<<<< Updated upstream
<link rel="stylesheet" href="/static/podsite.css?v=99">
=======

  <link rel="stylesheet" href="static/podsite.css">
>>>>>>> Stashed changes
  {{ site.analytics_head | safe }}
  <!-- Privacy-friendly analytics by Plausible -->
<script async src="https://plausible.io/js/pa-Lqox_PT_5-Q-dj0zPQ9lY.js"></script>
<script>
  window.plausible=window.plausible||function(){(plausible.q=plausible.q||[]).push(arguments)},plausible.init=plausible.init||function(i){plausible.o=i||{}};
  plausible.init()
</script>
</head>
<body>

  <!-- FULL-WIDTH NAV BAR -->
  <header class="site-header">
    <div class="site-header-inner">
      <div class="brand">
        <span class="brand-handle">#lastbesthopeb5</span>
      </div>

      <nav class="nav-links">
        <a href="/">Home</a>
        <a href="/#episodes">Episodes</a>
        <a href="/about/">About</a>
        <a href="/reviews/">Reviews</a>
      </nav>
    </div>
  </header>

  <!-- CENTERED CONTENT FRAME -->
  <div class="layout-wrap">
    <main class="page-wrap">
      <div class="page-main">
        <div class="page-inner">
          {% block content %}{% endblock %}
        </div>
      </div>

<<<<<<< Updated upstream
  <footer class="site-footer">
    <p>© {{ now().year }} {{ site.title }}</p>
  </footer>

  <!-- Global JS -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      var transcriptEl = document.getElementById('transcript');
      var toggleBtn = document.getElementById('toggle-timecodes');
      var audioEl = document.getElementById('episode-audio'); // only exists on episode pages

      if (!transcriptEl || !toggleBtn) {
        return; // nothing to do on pages without a transcript
      }

      var showing = false;

      function updateButton() {
        toggleBtn.textContent = showing ? 'Hide timestamps' : 'Show timestamps';
        toggleBtn.setAttribute('aria-pressed', showing ? 'true' : 'false');
        toggleBtn.setAttribute(
          'aria-label',
          showing ? 'Hide timestamps in transcript' : 'Show timestamps in transcript'
        );
      }

      toggleBtn.addEventListener('click', function () {
        showing = !showing;
        transcriptEl.classList.toggle('show-timecodes', showing);
        updateButton();
      });

      updateButton();

      // Optional: clicking a timestamp seeks the audio player
      if (audioEl) {
        transcriptEl.addEventListener('click', function (event) {
          var target = event.target;
          if (!target.classList.contains('timecode')) return;

          var seconds = parseFloat(target.getAttribute('data-seconds'));
          if (!isNaN(seconds)) {
            audioEl.currentTime = seconds;
            var playPromise = audioEl.play();
            if (playPromise && typeof playPromise.catch === 'function') {
              playPromise.catch(function () {
                // Autoplay might be blocked; ignore errors.
              });
            }
          }
        });
      }
    });
  </script>
=======
      <footer class="site-footer">
        <div class="site-footer-inner">
          <p>© {{ now().year }} {{ site.title }}</p>
        </div>
      </footer>
    </main>
  </div>
>>>>>>> Stashed changes
</body>
</html>
